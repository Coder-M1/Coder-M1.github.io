<html>

	<head>

		<title> Pong </title>
		<script src="https://simplycodingcourses.com/files/simplyjs/simply.js"></script>
		<script>





			function start(){
				sjs.open("target",500,400);
			  //Background function end

			   //objects start
			 var ball = new sjs.Image("Images/New Piskel.png");
			 	ball.type = "ball";
			 	ball.setSize(50,50);
			 	ball.right();
			 	ball.left().bottom();
			 	ball.right();
			 	ball.moveTo(175,300);
			 	ball.right().bottom().offset(-200,-250);
			 	ball.center();
			 	ball.friction = 0;
			 	ball.bounce();
			 	ball.pushUp(4);
			 	ball.pushRight(3);

			 //paddle 1
			 var paddle1 = new sjs.Image("Images/red.png");
			 	paddle1.type = "paddle1";
			 	paddle1.centerH().offset(-45, 0);
			 	paddle1.setSize(100, 10);
			 	paddle1.friction = 1;

			 //paddle 2
			 var paddle2 = new sjs.Image("Images/red.png");
			 	paddle2.type = "paddle2";
			 	paddle2.centerH().bottom().offset(-45, 0);
			 	paddle2.setSize(100, 10);
			 	paddle2.friction = 1;

			 //move paddle 1
			 /*	sjs.keyDown(A_KEY, function(){
			 	paddle1.pushLeft(5);
			 })
			 	sjs.keyDown(D_KEY, function(){
			 	paddle1.pushRight(5);
			 })   */

			 //move paddle 2
			 	sjs.keyDown(LEFT_KEY, function(){
			 	paddle2.pushLeft(5);
			 })
			 	sjs.keyDown(RIGHT_KEY, function(){
			 	paddle2.pushRight(5);
			 })	
			 //sound
			 	var soundEffect = new Audio('Music/techno.mp3');

			 //score
			 	var score1 = 0
			 	var score2 = 0
			 	var score_txt1 = new sjs.Text("Score 1: 0", 20, "white");
			 	var score_txt2 = new sjs.Text("Score 2: 0", 20, "white",);
			 	score_txt2.right().offset(-10, 0);

			 //collision
			 	sjs.onHit("ball","paddle1", function(ball,paddle1){
			 		sjs.bounceOff(ball,paddle1);
			 		score1 = score1 + 1;
			 		score_txt1.setText("Score 1: "+score1);
			 		soundEffect.play();

			 	});
			 	sjs.onHit("ball","paddle2", function(ball,paddle2){
			 		sjs.bounceOff(ball,paddle2);
			 		score2 = score2 + 1;
			 		score_txt2.setText("Score 2: "+score2);
			 		soundEffect.play();
			 	});

		     //gameover
		    /* 	sjs.onHit("ball",["top_screen","bottom_screen"], function(){
		     		window.location = "gameover.html";
		     	}); */

		     //AI
		     	setInterval(function(){
		     		if(ball.getX() < paddle1.getX()){
		     			paddle1.pushLeft(5);
		     		} else {
		     			paddle1.pushRight(5);
		     		}
		     	},75);

			 //speed up
			/* 	 var number = 0 
			 	 sjs.onHit("ball", "paddle", "number", function(ball, paddle, number){
			 		if number = 4
					var number = 0
			 			ball.pushUp(1)
			 			ball.pushRight(1)
			 		else 
			 			number + 1
			 	}) */

			}//end start

		</script>
	</head>

	<body onload="start()">

		<h1> Pong Game </h1>
		<div id="target" style="margin:auto;background:grey;"></div>

	</body>

</html>